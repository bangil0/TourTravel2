<ion-header>
  <ion-navbar>
    <ion-title>Tour Summary</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="selection" style="margin-left: -10px; overflow: visible;">
    <ion-card class="card-custom" style="top:0; margin-top:0px;">
      <ion-row>
        <ion-col col-2>
          <ion-avatar item-start>
            <img src="assets/img/user_pic.jpg" style="width:50px; height: 50px;">
          </ion-avatar>
        </ion-col>
        <ion-col col-5>
          <h2>{{userinfo?.Username}}</h2>
          <p class="p-custom">Unpaid</p>
        </ion-col>
        <ion-col col-5>
          <h3 class="card-title" style="text-align: right;">Total Price</h3>
          <h2 class="card-title" style="text-align: right;">USD<span>{{TotalPrice}}</span>.-</h2>
        </ion-col>
      </ion-row>
    </ion-card>

    <p class="custom-padding">This booking request will be expired on <strong style="display: -webkit-inline-box;">{{Package?.BookingDetailSum.ExpiredOn | date:'dd MMMM yyyy'}}</strong></p>
    <button ion-button style="margin-top: 0px;margin-bottom: 0px;" icon-left block><ion-icon ios="ios-document" md="md-document" ></ion-icon>Download Invoice</button>
    <ion-card>
      <ion-card-header>
        <ion-row>
          <ion-col>
            <h2 class="card-title">Tour Detail</h2>
          </ion-col>
          <!-- <ion-col col-1 center>
            <ion-icon style="color: #fff"></ion-icon>
          </ion-col> -->
        </ion-row>
        <!--<ion-icon color="primary" item-right [name]="data[0].icon" (click)="toggleDetails(d)"></ion-icon>-->
      </ion-card-header>
      <ion-card-content style="margin-left: 0px;">
        <ion-grid>
          <ion-row>
            <ion-col col-8>
              <h3 class="card-label">Booking Number: </h3>
            </ion-col>
            <ion-col col-4>
              <h3 class="card-title">{{Package?.BookingDetailSum.Id}}</h3>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>
              <h3 class="card-label">Tour Name: </h3>
            </ion-col>
            <ion-col col-8>
              <h3 class="card-title">{{Package?.BookingDetailSum.Title}}</h3>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>
              <h3 class="card-label">Date: </h3>
            </ion-col>
            <ion-col col-8>
              <h3 class="card-title">{{Package?.BookingDetailSum.StartDate | date:'dd MMMM yyyy'}} - {{Package?.BookingDetailSum.EndDate | date:'dd
                MMMM yyyy'}}</h3>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>
              <h3 class="card-label">Total Guest(s): </h3>
            </ion-col>
            <ion-col col-8>
              <h3 class="card-title">{{TotalGuest}} Guest(s)</h3>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <h2 class="card-title">Guest(s) Detail</h2>
        <!--<ion-icon color="primary" item-right [name]="data[0].icon" (click)="toggleDetails(d)"></ion-icon>-->
      </ion-card-header>
      <ion-card-content style="margin-left: 0px; padding-left: 0; padding-right: 0;">
        <ion-grid class="grid-custom" *ngFor="let item of Guest; let i = index">
          <ion-row>
            <ion-col col-1>
              <h3 class="card-label">{{i+1}}</h3>
            </ion-col>
            <ion-col col-9>
              <h3 class="card-label"><strong>{{item.FirstName}} {{item.LastName}}</strong></h3>
            </ion-col>
            <ion-col class="col2-custom">
              <h3 class="card-label" style="background: #03A9F4;color: white; font-weight: bold;     padding: 1vw;
              text-align: center;">{{item.CountryId}}</h3>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-1>
            </ion-col>
            <ion-col col-10>
              <h3 class="card-leader">{{item.GuestType}}</h3>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <ion-list>
      <ion-card>
        <ion-card-header>
          <h2 class="card-title">Guest</h2>
        </ion-card-header>
        <ion-card-content style="margin-left: 0px;">
          <ion-grid>
            <ion-row *ngIf="TGuest?.AdultQty != 0 " >
              <ion-col col-7>
                <h3 class="card-label">Adult:</h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">{{TGuest?.AdultQty}}</h3>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="TGuest?.ChildQty != 0 ">
              <ion-col col-7 >
                <h3 class="card-label">Child: </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">{{TGuest?.ChildQty}}</h3>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="TGuest?.InfantQty != 0 ">
              <ion-col col-7>
                <h3 class="card-label">Infant: </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">{{TGuest?.InfantQty}}</h3>
              </ion-col>
            </ion-row>

            <ion-row style="border-top:#b3b3b3 1px solid;">
              <ion-col col-10>
                <h3 class="card-title-label">Total Guest(s): </h3>
              </ion-col>
              <ion-col col-2>
                <h3 class="card-title-total">{{TotalGuest}}</h3>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>

      <ion-card>
        <ion-card-header>
          <h2 class="card-title">Tour Prices</h2>
        </ion-card-header>
        <ion-card-content style="margin-left: 0px;">
          <ion-grid>
            <ion-row *ngIf="Room?.SharingRoomPrice != 0" >
              <ion-col col-7>
                <h3 class="card-label">Staying in Sharing Room ({{Room?.SharingRoomPrice}} X USD {{Price?.SharingRoomPrice}}.-/Guest): </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">USD {{(Room?.SharingRoomPrice) * (Price?.SharingRoomPrice)}}.-/Guest</h3>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="Room?.AdultExtraBedPrice != 0" >
              <ion-col col-7>
                <h3 class="card-label">Staying in Adult Extra Bed ({{Room?.AdultExtraBedPrice}} X USD {{Price?.AdultExtraBedPrice}}.-/Guest): </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">USD {{Room?.AdultExtraBedPrice*Price?.AdultExtraBedPrice}}.-/Guest</h3>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="Room?.ChildExtraBedPrice != 0">
              <ion-col col-7>
                <h3 class="card-label">Staying in Child Extra Bed ({{Room?.ChildExtraBedPrice}} X USD {{Price?.ChildExtraBedPrice}}.-/Guest): </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">USD {{Room?.ChildExtraBedPrice*Price?.ChildExtraBedPrice}}.-/Guest</h3>
              </ion-col>
            </ion-row>

            <ion-row *ngIf="Room?.SharingBedPrice != 0">
              <ion-col col-7>
                <h3 class="card-label">Staying in Sharing Bed ({{Room?.SharingBedPrice}} X USD {{Price?.SharingBedPrice}}.-/Guest): </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">USD {{Room?.SharingBedPrice*Price?.SharingBedPrice}}.-/Guest</h3>
              </ion-col>
            </ion-row>

            <ion-row *ngIf="Room?.BabyCrib != 0">
              <ion-col col-7>
                <h3 class="card-label">Staying in Baby Crib ({{Room?.BabyCrib}} X USD 0.-/Guest): </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">USD 0.-/Guest</h3>
              </ion-col>
            </ion-row>

            <ion-row *ngIf="Room?.NoBed != 0">
              <ion-col col-7>
                <h3 class="card-label">Staying in No Bed ({{Room?.NoBed}} X USD 0.-/Guest): </h3>
              </ion-col>
              <ion-col col-5>
                <h3 class="card-title">USD 0.-/Guest</h3>
              </ion-col>
            </ion-row>

            <ion-row style="border-top:#b3b3b3 1px solid;">
              <ion-col col-6>
                <h3 class="card-title-label">Total Prices: </h3>
              </ion-col>
              <ion-col col-6>
                <h3 class="card-title-total">USD <span>{{TotalPrice}}</span>.-</h3>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>

      <!-- 
      <ion-card-content style="margin-left: 0px;">
        <ion-card-title (click)="toggleDetails(data[4])">
          <h2 class="card-title" style="height: 30px;padding-top: 5px;padding-left: 10px;padding-right: 6px;padding-bottom: 0;
      margin-top: 0px;
      font-size: 3.8vw;
      font-weight: 600;
      font-family: 'Open Sans', sans-serif;
      margin-bottom: 0;">Tour Schedules</h2>
        </ion-card-title>
        <div class=timeline>
          <ion-grid *ngIf="data[4].showDetails">
            <ion-item *ngFor="let dp of DailyPrograms ; let j of index" class="label-title-item">
              <ion-icon color="primary"></ion-icon>
              <div class="divider-title">
                Day {{dp.Day}}, {{dp.Date | date:'dd MMMM yyyy'}}
              </div>

              <div style="padding-bottom: 0px;" *ngIf="dp.TourDestinations.length == 0">
                <p class="custom-label" style="text-align:center; font-size: 3.8vw; bottom: -21px;bottom: 215px;">No activities.</p>
              </div>

              <div style="padding-bottom: 0px;" *ngIf="dp.TourDestinations.length > 0">
                <ul class="timeline" *ngFor="let p of dp.TourDestinations; let i = index">
                  <li>
                    <div class="timeline-thumb bg-color-positive timeline-icon" *ngIf="p.Destination != null">
                      <ion-icon ios="ios-pin" md="md-pin" class="timeline-icon" style="left: 1vw; top: 1.2vw;"></ion-icon>
                    </div>
                    <div class="timeline-item" *ngIf="p.Destination != null">
                      <h4 class="line-break">{{p.Destination}}</h4>
                    </div>
                  </li>

                  <li *ngIf="p.AccommodationSummary != null">
                    <div class="timeline-thumb bg-color-dark timeline-icon" *ngIf="p.AccommodationSummary != null">
                      <ion-icon ios="ios-cloudy-night" md="md-cloudy-night" class="timeline-icon"></ion-icon>
                    </div>
                    <div class="timeline-item" *ngIf="p.AccommodationSummary != null">
                      <h4 class="line-break">{{p.AccommodationSummary["Name"]}}</h4>
                      <p class="line-break">{{p.AccommodationSummary["RoomName"]}}<span class="line-break" *ngIf="p.AccommodationSummary.RoomService != null">, {{p.AccommodationSummary["RoomService"].replace('_', ' ')}}</span></p>
                    </div>
                  </li>

                  <li *ngIf="p.TransportationSummary.length > 0">
                    <div class="timeline-thumb bg-color-calm timeline-icon" *ngIf="p.TransportationSummary.length > 0">
                      <ion-icon ios="ios-bus" md="md-bus" class="timeline-icon"></ion-icon>
                    </div>
                    <div class="timeline-item" *ngIf="p.TransportationSummary.length > 0">
                      <h4 class="line-break" *ngFor="let a of p.TransportationSummary ;let i = index">{{a.TransportationType}}</h4>
                      <p class="line-break" *ngFor="let a of p.TransportationSummary ;let i = index">{{a.TransportationCapacity}} Seater, {{a.TransportationService.split("_").join(" ")}}</p>
                    </div>
                  </li>

                  <li *ngIf="p.AttractionSummary.length > 0">
                    <div class="timeline-thumb bg-color-energized timeline-icon">
                      <ion-icon ios="ios-checkmark-circle" md="md-checkmark-circle" class="timeline-icon"></ion-icon>
                    </div>
                    <div class="timeline-item" *ngIf="p.AttractionSummary.length > 0">
                      <h4 class="line-break" *ngFor="let a of p.AttractionSummary ;let i = index">{{a.Name}}</h4>
                      <p class="line-break" *ngIf="p.AttractionSummary.length > 1 && i  != p.AttractionSummary.length - 1 ">,</p>
                    </div>
                  </li>

                </ul>
              </div>
            </ion-item>
          </ion-grid>
        </div>
      </ion-card-content> -->
    </ion-list>
  </div>
</ion-content>


<ion-footer>
  <ion-row>
    <ion-col>
      <button (click)="confirmBooking()" ion-button style="margin-top: 0px;margin-bottom: 0px;" class="btn-accept">Confirm</button>
    </ion-col>
  </ion-row>

  <!-- <ion-row>
    <ion-col>
      <button ion-button style="margin-top: 0px;margin-bottom: 0px;" class="btn-cancel" (click)="allertCancelBooking()">Cancel</button>
    </ion-col>
  </ion-row> -->
</ion-footer>